(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{0:function(t,n,e){e("GAND"),e("GmYv"),t.exports=e("b9nV")},BEPO:function(t){t.exports=JSON.parse('{"a":false,"b":false}')},app:function(t,n,e){"use strict";e.r(n),e.d(n,"App",(function(){return r}));var i,a=e("aurelia-framework"),o=e("yIL0"),r=Object(a.c)(o.a)(i=function(){function t(t){this.api=t}return t.prototype.configureRouter=function(t,n){t.title="Contacts",t.options.pushState=!0,t.options.root="/",t.map([{route:"",moduleId:"no-selection",name:"default",title:"Select"},{route:"contacts/:id",moduleId:"contact-detail",name:"contacts"}]),this.router=n},t}())||i},"app.html":function(t,n,e){t.exports='<template> <require from="./styles.css"></require> <require from="./contact-list"></require> <nav class="navbar navbar-light bg-light border-bottom fixed-top" role="navigation"> <a class="navbar-brand" href="#"> <i class="fa fa-user"></i> <span>Contacts</span> </a> </nav> <loading-indicator loading.bind="router.isNavigating || api.isRequesting"></loading-indicator> <div class="container-md"> <div class="row"> <contact-list class="col-sm-5 col-md-4"></contact-list> <router-view class="col-sm-7 col-md-8"></router-view> </div> </div> </template> '},"contact-detail":function(t,n,e){"use strict";e.r(n),e.d(n,"ContactDetail",(function(){return u}));var i=e("aurelia-framework"),a=e("aurelia-event-aggregator"),o=e("yIL0"),r=e("x9rb");var c,s=e("4ysu");function l(t,n){for(var e=0;e<n.length;e++){var i=n[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var u=Object(i.c)(o.a,a.EventAggregator,s.c)(c=function(){function t(t,n,e){this.api=t,this.ea=n,this.router=e}var n,e,i,a=t.prototype;return a.activate=function(t,n){var e=this;return this.routeConfig=n,this.api.getContactDetails(t.id).then((function(t){e.contact=t,e.routeConfig.navModel.setTitle(t.firstName),e.originalContact=JSON.parse(JSON.stringify(t)),e.ea.publish(new r.c(e.contact))}))},a.save=function(){var t=this;this.api.saveContact(this.contact).then((function(n){t.contact=n,t.routeConfig.navModel.setTitle(n.firstName),t.originalContact=JSON.parse(JSON.stringify(n)),t.ea.publish(new r.b(t.contact))}))},a.delete=function(){var t=this;this.api.deleteContact(this.contact).then((function(n){t.router.navigateToRoute("default"),n&&t.ea.publish(new r.a(t.contact))}))},a.canDeactivate=function(){if(n=this.originalContact,e=this.contact,!Object.keys(n).every((function(t){return e.hasOwnProperty(t)&&n[t]===e[t]}))){var t=confirm("You have unsaved changes. Are you sure you wish to leave?");return t||(console.log("canceled"),console.log(this.contact.firstName),this.ea.publish(new r.c(this.contact))),t}var n,e;return!0},n=t,(e=[{key:"canSave",get:function(){return this.contact.firstName&&this.contact.lastName&&!this.api.isRequesting}}])&&l(n.prototype,e),i&&l(n,i),t}())||c},"contact-detail.html":function(t,n){t.exports='<template> <div class="card"> <div class="card-header text-white bg-primary"> Profile </div> <div class="card-body"> <form role="form"> <div class="form-group row"> <label class="col-md-3 col-form-label">First Name</label> <div class="col-md-9"> <input type="text" placeholder="first name" class="form-control" value.bind="contact.firstName"> </div> </div> <div class="form-group row"> <label class="col-md-3 col-form-label">Last Name</label> <div class="col-md-9"> <input type="text" placeholder="last name" class="form-control" value.bind="contact.lastName"> </div> </div> <div class="form-group row"> <label class="col-md-3 col-form-label">Email</label> <div class="col-md-9"> <input type="text" placeholder="email" class="form-control" value.bind="contact.email"> </div> </div> <div class="form-group row"> <label class="col-md-3 col-form-label">Phone Number</label> <div class="col-md-9"> <input type="text" placeholder="phone number" class="form-control" value.bind="contact.phoneNumber"> </div> </div> </form> <div class="form-group row"> <div class="col-md-8"> </div> <div class="col-md-2"> <button class="btn btn-secondary float-right" click.delegate="delete()">Delete</button> </div> <div class="col-md-2"> <button class="btn btn-success float-right" click.delegate="save()" disabled.bind="!canSave">Save</button> </div> </div> </div> </div> </template>'},"contact-list":function(t,n,e){"use strict";e.r(n),e.d(n,"ContactList",(function(){return s}));var i,a=e("aurelia-event-aggregator"),o=e("yIL0"),r=e("x9rb"),c=e("aurelia-framework"),s=Object(c.c)(o.a,a.EventAggregator)(i=function(){function t(t,n){var e=this;this.api=t,this.contacts=[],n.subscribe(r.c,(function(t){e.select(t.contact),console.log(t.contact.firstName)})),n.subscribe(r.b,(function(t){var n=t.contact.id,i=e.contacts.find((function(t){return t.id==n}));Object.assign(i,t.contact)})),n.subscribe(r.a,(function(t){var n=t.contact.id,i=e.contacts.find((function(t){return t.id==n})),a=e.contacts.indexOf(i);e.contacts.splice(a,1)}))}var n=t.prototype;return n.created=function(){var t=this;this.api.getContactList().then((function(n){return t.contacts=n}))},n.select=function(t){return console.log("selected"+t.firstName),this.selectedId=t.id,!0},t}())||i},"contact-list.html":function(t,n){t.exports='<template> <div class="contact-list"> <div class="list-group"> <a reorderable-repeat.for="contact of contacts" class="list-group-item list-group-item-action ${contact.id === $parent.selectedId ? \'active\' : \'\'}" route-href="route: contacts; params.bind: {id:contact.id}" click.delegate="$parent.select(contact)"> <strong>${contact.firstName} ${contact.lastName}</strong><br> <small>${contact.email}</small> </a> </div> </div> </template>'},main:function(t,n,e){"use strict";e.d(n,"configure",(function(){return a}));var i=e("BEPO");e("70NS"),e("+eM2"),e("fxB9");function a(t){t.use.standardConfiguration().feature("resources/index"),t.use.developmentLogging(i.a?"debug":"warn"),t.use.plugin("bcx-aurelia-reorderable-repeat"),i.b&&t.use.plugin("aurelia-testing"),t.start().then((function(){return t.setRoot("app")}))}},"no-selection":function(t,n,e){"use strict";e.r(n),e.d(n,"NoSelection",(function(){return i}));var i=function(){this.message="Please Select a Contact."}},"no-selection.html":function(t,n){t.exports='<template> <div class="no-selection text-center"> <h4>${message}</h4> </div> </template> '},"resources/elements/loading-indicator":function(t,n,e){"use strict";e.r(n),e.d(n,"LoadingIndicator",(function(){return p}));var i,a,o,r=e("Mj6V"),c=e("aurelia-framework");e("pdi6");var s,l,u,d,f,m,p=Object(c.d)((a=function(){function t(){var t,n,e,i;t=this,n="loading",i=this,(e=o)&&Object.defineProperty(t,n,{enumerable:e.enumerable,configurable:e.configurable,writable:e.writable,value:e.initializer?e.initializer.call(i):void 0})}return t.prototype.loadingChanged=function(t){t?r.start():r.done()},t}(),s=a.prototype,l="loading",u=[c.b],d={configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}},m={},Object.keys(d).forEach((function(t){m[t]=d[t]})),m.enumerable=!!m.enumerable,m.configurable=!!m.configurable,("value"in m||m.initializer)&&(m.writable=!0),m=u.slice().reverse().reduce((function(t,n){return n(s,l,t)||t}),m),f&&void 0!==m.initializer&&(m.value=m.initializer?m.initializer.call(f):void 0,m.initializer=void 0),void 0===m.initializer&&(Object.defineProperty(s,l,m),m=null),o=m,i=a))||i},"resources/index":function(t,n,e){"use strict";e.r(n),e.d(n,"configure",(function(){return i}));e("aurelia-framework");function i(t){t.globalResources(["./elements/loading-indicator"])}},"styles.css":function(t,n,e){var i=e("denP"),a=e("JPst")(i);a.push([t.i,"body { padding-top: 70px; }\n\nsection {\n  margin: 0 20px;\n}\n\na:focus {\n  outline: none;\n}\n\n.navbar-nav li.loader {\n    margin: 12px 24px 0 6px;\n}\n\n.no-selection {\n  margin: 20px;\n}\n\n.contact-list {\n  overflow-y: auto;\n  border: 1px solid #ddd;\n  padding: 10px;\n}\n\n.panel {\n  margin: 20px;\n}\n\n.button-bar {\n  right: 0;\n  left: 0;\n  bottom: 0;\n  border-top: 1px solid #ddd;\n  background: white;\n}\n\n.button-bar > button {\n  float: right;\n  margin: 20px;\n}\n\nli.list-group-item {\n  list-style: none;\n}\n\nli.list-group-item > a {\n  text-decoration: none;\n}\n\nli.list-group-item.active > a {\n  color: white;\n}\n","",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA,OAAO,iBAAiB,EAAE;;AAE1B;EACE,cAAc;AAChB;;AAEA;EACE,aAAa;AACf;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,gBAAgB;EAChB,sBAAsB;EACtB,aAAa;AACf;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,QAAQ;EACR,OAAO;EACP,SAAS;EACT,0BAA0B;EAC1B,iBAAiB;AACnB;;AAEA;EACE,YAAY;EACZ,YAAY;AACd;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,YAAY;AACd",sourcesContent:["body { padding-top: 70px; }\n\nsection {\n  margin: 0 20px;\n}\n\na:focus {\n  outline: none;\n}\n\n.navbar-nav li.loader {\n    margin: 12px 24px 0 6px;\n}\n\n.no-selection {\n  margin: 20px;\n}\n\n.contact-list {\n  overflow-y: auto;\n  border: 1px solid #ddd;\n  padding: 10px;\n}\n\n.panel {\n  margin: 20px;\n}\n\n.button-bar {\n  right: 0;\n  left: 0;\n  bottom: 0;\n  border-top: 1px solid #ddd;\n  background: white;\n}\n\n.button-bar > button {\n  float: right;\n  margin: 20px;\n}\n\nli.list-group-item {\n  list-style: none;\n}\n\nli.list-group-item > a {\n  text-decoration: none;\n}\n\nli.list-group-item.active > a {\n  color: white;\n}\n"],sourceRoot:""}]),t.exports=a},x9rb:function(t,n,e){"use strict";e.d(n,"b",(function(){return i})),e.d(n,"c",(function(){return a})),e.d(n,"a",(function(){return o}));var i=function(t){this.contact=t},a=function(t){this.contact=t},o=function(t){this.contact=t}},yIL0:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var i=0;function a(){return++i}var o=[{id:a(),firstName:"John",lastName:"Tolkien",email:"tolkien@inklings.com",phoneNumber:"867-5309"},{id:a(),firstName:"Clive",lastName:"Lewis",email:"lewis@inklings.com",phoneNumber:"867-5309"},{id:a(),firstName:"Owen",lastName:"Barfield",email:"barfield@inklings.com",phoneNumber:"867-5309"},{id:a(),firstName:"Charles",lastName:"Williams",email:"williams@inklings.com",phoneNumber:"867-5309"},{id:a(),firstName:"Roger",lastName:"Green",email:"green@inklings.com",phoneNumber:"867-5309"}],r=function(){function t(){this.isRequesting=!1}var n=t.prototype;return n.getContactList=function(){var t=this;return this.isRequesting=!0,new Promise((function(n){setTimeout((function(){var e=o.map((function(t){return{id:t.id,firstName:t.firstName,lastName:t.lastName,email:t.email}}));n(e),t.isRequesting=!1}),200)}))},n.getContactDetails=function(t){var n=this;return this.isRequesting=!0,new Promise((function(e){setTimeout((function(){var i=o.filter((function(n){return n.id==t}))[0];e(JSON.parse(JSON.stringify(i))),n.isRequesting=!1}),200)}))},n.saveContact=function(t){var n=this;return this.isRequesting=!0,new Promise((function(e){setTimeout((function(){var i=JSON.parse(JSON.stringify(t)),r=o.filter((function(n){return n.id==t.id}))[0];if(r){var c=o.indexOf(r);o[c]=i}else i.id=a(),o.push(i);n.isRequesting=!1,e(i)}),200)}))},n.deleteContact=function(t){var n=this;return this.isRequesting=!0,new Promise((function(e){setTimeout((function(){var i=o.filter((function(n){return n.id==t.id}))[0];if(i){var a=o.indexOf(i);o.splice(a,1)}n.isRequesting=!1,e(!0)}),200)}))},t}()}},[[0,1,2,6,5,7,9,8,3,4]]]);
//# sourceMappingURL=app~f075b844.d8b26e446f6a0f40174a.bundle.map